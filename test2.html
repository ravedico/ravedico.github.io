<!DOCTYPE html>
<html>

<head>    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">

    <!-- CSS -->
    <link href="css/reset.css" rel="stylesheet" type="text/css">
    <link href="css/test.css" rel="stylesheet" type="text/css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


</head>

<body>
    <div class="sidebar">
        <nav class="sidebar-nav">
            <ul>
                <li>
                    <a href="#section1"></a>
                </li>
                <li>
                    <a href="#section2"></a>
                </li>
                <li>
                    <a href="#section3"></a>
                </li>
                <li>
                    <a href="#section4"></a>
                </li>
                <li>
                    <a href="#section5"></a>
                </li>
                <li>
                    <a href="#section6"></a>
                </li>
                <li>
                    <a href="#section7"></a>
                </li>
                <li>
                    <a href="#section8"></a>
                </li>
            </ul>
        </nav>
    </div> 
    <section id="section1">A</section>
    <section id="section2">B</section>
    <section id="section3">C</section>
    <section id="section4">D</section>
    <section id="section5">E</section>
    <section id="section6">F</section>
    <section id="section7">G</section>
    <section id="section8">H</section>
   
<script>

$(function(){
    $(document).scroll(function(){
        if($(this).scrollTop() >= $('section').offset()) {
            $("li").addClass("current");
        } else {
            $("li").removeClass("current");
        }
    });
});
//      $(document).on("scroll", onScroll);

// $('a[href^="#"]').on('click', function (e) {
//   e.preventDefault();
//   $(document).off("scroll");
//   $('a').each(function () {
//     $(this).removeClass('current');
//   })
//   $(this).addClass('current');
//   var target = this.hash,
//       menu = target;
//   $target = $(target);
//   $('html, body').stop().animate({
//     'scrollTop': $target.offset().top+2
//   }, 600, 'swing', function () {
//     window.location.hash = target;
//     $(document).on("scroll", onScroll);
//   });
// });

// function onScroll(event){
//     var scrollPos = $(document).scrollTop();
//     $('.sidebar a').each(function () {
//         var currLink = $(this);
//        var refElement = $(currLink.attr("href"));
//         if (refElement.position().top <= scrollPos && refElement.position().top + refElement.height() > scrollPos) {
//             $('.sidebar ul li a').removeClass("current");
//             currLink.addClass("current");
//         }
//         else{
//             currLink.removeClass("current");
//         }
//     });
// }
</script>

</body>

</html>